@page
@{
    ViewData["Title"] = "Publicar Inmueble - Paso 3";
}

<link rel="stylesheet" href="~/css/stylePost.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">


<div class="container mt-4 pt-5">
    <!-- Barra de progreso -->
    <div class="progress-container mb-5">
        <div class="progress-steps-wrapper">
            <div class="progress-steps step-3">
                <div class="step completed">
                    <div class="step-circle bg-primary text-white">1</div>
                    <div class="step-label fw-bold">Principales</div>
                </div>
                <div class="step-connector active"></div>
                <div class="step completed">
                    <div class="step-circle bg-primary text-white">2</div>
                    <div class="step-label fw-bold">Multimedia</div>
                </div>
                <div class="step-connector active"></div>
                <div class="step active">
                    <div class="step-circle bg-primary text-white">3</div>
                    <div class="step-label">Extras</div>
                </div>
                <div class="step-connector"></div>
                <div class="step">
                    <div class="step-circle">4</div>
                    <div class="step-label">Publicar</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Encabezado -->



    <div class="row justify-content-center" style="padding-top:35px">
        <div class="col-lg-10">
            
            <div class="d-flex align-items-center mb-5 p-4 bg-white rounded-3 shadow-sm border-start border-4 border-primary">
                <div class="flex-shrink-0 me-4">
                    <i class="bi bi-list-check fs-1 text-primary"></i>
                </div>
                <div>
                    <h1 class="fw-bold mb-2 text-primary">¡Agregá las comodidades de tu propiedad!</h1>
                    <p class="lead text-muted mb-0">Seleccioná los servicios y características disponibles</p>
                </div>
            </div>
        </div>

    <!-- Formulario de servicios -->
        <form method="post" style="padding-top:15px">
        <!-- Sección de etiquetas seleccionadas -->
        <div class="card mb-4" id="selected-tags-container" style="display: none;">
            <div class="card-header bg-light">
                <h5 class="mb-0">Etiquetas seleccionadas</h5>
            </div>
            <div class="card-body">
                <div class="d-flex flex-wrap gap-2" id="selected-tags">
                    <!-- Las etiquetas seleccionadas aparecerán aquí -->
                </div>
            </div>
        </div>

        <!-- Sección de Permite mascotas -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h5 class="mb-0">Permite mascotas</h5>
            </div>
            <div class="card-body">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="PermiteMascotas" name="PermiteMascotas">
                    <label class="form-check-label" for="PermiteMascotas">La propiedad permite mascotas</label>
                </div>
            </div>
        </div>


        <!-- Sección de Características generales -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h5 class="mb-0">Características generales</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="AccesoDiscapacitados" name="AccesoDiscapacitados">
                            <label class="form-check-label" for="AccesoDiscapacitados">
                                <i class="bi bi-person-bounding-box me-2"></i>Acceso discapacitados
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Parrilla" name="Parrilla">
                            <label class="form-check-label" for="Parrilla">
                                <i class="bi bi-fire me-2"></i>Parrilla
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="AptoProfesional" name="AptoProfesional">
                            <label class="form-check-label" for="AptoProfesional">
                                <i class="bi bi-briefcase me-2"></i>Apto profesional
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="UsoComercial" name="UsoComercial">
                            <label class="form-check-label" for="UsoComercial">
                                <i class="bi bi-shop me-2"></i>Uso comercial
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Gimnasio" name="Gimnasio">
                            <label class="form-check-label" for="Gimnasio">
                                <i class="bi bi-activity me-2"></i>Gimnasio
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Hidromasaje" name="Hidromasaje">
                            <label class="form-check-label" for="Hidromasaje">
                                <i class="bi bi-droplet me-2"></i>Hidromasaje
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Solarium" name="Solarium">
                            <label class="form-check-label" for="Solarium">
                                <i class="bi bi-sun me-2"></i>Solarium
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="PistaDeportiva" name="PistaDeportiva">
                            <label class="form-check-label" for="PistaDeportiva">
                                <i class="bi bi-trophy me-2"></i>Pista deportiva
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="SalaJuegos" name="SalaJuegos">
                            <label class="form-check-label" for="SalaJuegos">
                                <i class="bi bi-joystick me-2"></i>Sala de juegos
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección de Características -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h5 class="mb-0">Características</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="AireAcondicionado" name="AireAcondicionado">
                            <label class="form-check-label" for="AireAcondicionado">
                                <i class="bi bi-snow me-2"></i>Aire acondicionado
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="CocinaEquipada" name="CocinaEquipada">
                            <label class="form-check-label" for="CocinaEquipada">
                                <i class="bi bi-egg-fried me-2"></i>Cocina equipada
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Amueblado" name="Amueblado">
                            <label class="form-check-label" for="Amueblado">
                                <i class="bi bi-house-door me-2"></i>Amueblado
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Alarma" name="Alarma">
                            <label class="form-check-label" for="Alarma">
                                <i class="bi bi-shield-lock me-2"></i>Alarma
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Quincho" name="Quincho">
                            <label class="form-check-label" for="Quincho">
                                <i class="bi bi-fire me-2"></i>Quincho
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Sauna" name="Sauna">
                            <label class="form-check-label" for="Sauna">
                                <i class="bi bi-thermometer-sun me-2"></i>Sauna
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Caldera" name="Caldera">
                            <label class="form-check-label" for="Caldera">
                                <i class="bi bi-thermometer-high me-2"></i>Caldera
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Lavavajillas" name="Lavavajillas">
                            <label class="form-check-label" for="Lavavajillas">
                                <i class="bi bi-cup-straw me-2"></i>Lavavajillas
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Termotanque" name="Termotanque">
                            <label class="form-check-label" for="Termotanque">
                                <i class="bi bi-droplet-half me-2"></i>Termotanque
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección de Ambientes -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h5 class="mb-0">Ambientes</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="DormitorioSuite" name="DormitorioSuite">
                            <label class="form-check-label" for="DormitorioSuite">
                                <i class="bi bi-door-closed me-2"></i>Dormitorio en suite
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Balcon" name="Balcon">
                            <label class="form-check-label" for="Balcon">
                                <i class="bi bi-border-width me-2"></i>Balcón
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Cocina" name="Cocina">
                            <label class="form-check-label" for="Cocina">
                                <i class="bi bi-cup-hot me-2"></i>Cocina
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Sòtano" name="Sòtano">
                            <label class="form-check-label" for="Sòtano">
                                <i class="bi-layers-fill"></i> Sòtano
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Patio" name="Patio">
                            <label class="form-check-label" for="Patio">
                                <i class="bi bi-tree me-2"></i>Patio
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Escritorio" name="Escritorio">
                            <label class="form-check-label" for="Escritorio">
                                <i class="bi bi-pc-display me-2"></i>Escritorio
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Jardin" name="Jardin">
                            <label class="form-check-label" for="Jardin">
                                <i class="bi bi-flower2 me-2"></i>Jardín
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Comedor" name="Comedor">
                            <label class="form-check-label" for="Comedor">
                                <i class="bi-cup-fill"></i> Comedor
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Baulera" name="Baulera">
                            <label class="form-check-label" for="Baulera">
                                <i class="bi bi-box-seam me-2"></i>Baulera
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Terraza" name="Terraza">
                            <label class="form-check-label" for="Terraza">
                                <i class="bi bi-sun me-2"></i>Terraza
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Toilette" name="Toilette">
                            <label class="form-check-label" for="Toilette">
                                <i class="bi bi-bucket me-2"></i>Toilette
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Lavadero" name="Lavadero">
                            <label class="form-check-label" for="Lavadero">
                                <i class="bi-water"></i> Lavadero
                            </label>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Sección de Servicios -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h5 class="mb-0">Servicios</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="InternetWifi" name="InternetWifi">
                            <label class="form-check-label" for="InternetWifi">
                                <i class="bi bi-wifi me-2"></i>Internet / WiFi
                            </label>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Ascensor" name="Ascensor">
                            <label class="form-check-label" for="Ascensor">
                                <i  class="bi bi-door-open me-2"></i>Ascensor
                            </label>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Vigilancia" name="Vigilancia">
                            <label class="form-check-label" for="Vigilancia">
                                <i class="bi bi-shield-check me-2"></i>Encargado / Vigilancia
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Limpieza" name="Limpieza">
                            <label class="form-check-label" for="Limpieza">
                                <i class="bi-bucket-fill"></i> Servicio de limpieza
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Agua" name="Agua">
                            <label class="form-check-label" for="Agua">
                                <i class="bi-droplet-fill"></i> Agua corriente
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="Electricidad" name="Electricidad">
                            <label class="form-check-label" for="Electricidad">
                                <i class="bi-lightning-charge-fill"></i> Electricidad
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Botones de navegación -->
        <div class="d-flex justify-content-between mt-4 pt-3 border-top">
            <a asp-page="PostStep2" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left me-1"></i>Anterior
            </a>
            <div>
                <a asp-page="PostStep4" class="btn btn-primary">
                    Siguiente <i class="bi bi-arrow-right ms-1"></i>
                </a>
            </div>
        </div>
    </form>
</div>

<script>
    // Mostrar etiquetas seleccionadas
    document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            updateSelectedTags();
        });
    });

    function updateSelectedTags() {
        const container = document.getElementById('selected-tags-container');
        const tagsContainer = document.getElementById('selected-tags');
        tagsContainer.innerHTML = '';

        const checkedBoxes = document.querySelectorAll('input[type="checkbox"]:checked');

        if (checkedBoxes.length > 0) {
            container.style.display = 'block';

            checkedBoxes.forEach(checkbox => {
                const label = document.querySelector(`label[for="${checkbox.id}"]`).textContent.trim();
                const tag = document.createElement('span');
                tag.className = 'badge bg-primary d-flex align-items-center';
                tag.innerHTML = `
                    ${label}
                    <button type="button" class="btn-close btn-close-white ms-2" aria-label="Remove"
                            onclick="document.getElementById('${checkbox.id}').click()"></button>
                `;
                tagsContainer.appendChild(tag);
            });
        } else {
            container.style.display = 'none';
        }
    }

    // Inicializar al cargar la página
    document.addEventListener('DOMContentLoaded', updateSelectedTags);
</script>

